<!doctype html>
<html lang="en">
  <head>
<title>The Nix Cheat Sheet - maydayv7</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="description" content="My Personal Website" />
 <link rel="stylesheet" href="/style.css"> <link rel="stylesheet" href="/color/red.css" />  <link rel="stylesheet" href="/fonts.css">  
<link
  rel="shortcut icon"
  href="/desktop.ico?"
  type="image/x-icon" />
 <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>My Blog</title>
  </head>

  <script
  async
  src="https://www.googletagmanager.com/gtag/js?id=G-26PNXDYZNZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "G-26PNXDYZNZ");
</script>

  <body class=""><div class="container center">
<header class="header">
  <div class="header-inner">
    <div class="header-logo"><a
  href="&#x2F;">
  <div class="logo">
    maydayv7
  </div>
</a></div>
    <div class="menu-trigger" tabindex="0">
      <div class="menu-trigger-button">menu</div>
    </div>
  </div>
  <nav class="menu-desktop">
  <ul class="menu-inner menu-inner-desktop">
       <li><a
  href="/blog">
  Blog
</a></li><li><a
  href="/projects">
  Projects
</a></li><li><a
  href="/about">
  About
</a></li></ul>
</nav>
<nav class="menu-mobile">
  <ul class="menu-inner menu-inner-mobile hidden">
       <li><a
  href="/blog">
  Blog
</a></li><li><a
  href="/projects">
  Projects
</a></li><li><a
  href="/about">
  About
</a></li>
  </ul>
</nav>
 
  <div class="search-container js-only">
    <input class="input" id="search" type="search" placeholder="Search" />
    <div class="search-results box">
      <div class="search-results__items"></div>
    </div>
  </div>
  
</header>
<div class="content"><article class="post">
  
  <header>
    <h1 class="post-title">
      
      <a href="&#x2F;blog&#x2F;nix&#x2F;">The Nix Cheat Sheet</a>
      
    </h1>
    
<div class="post-meta meta-page">
  
<span class="post-date">2022.02.20</span>
::
  <span class="post-readtime"> <i>4</i> min read </span>
   :: <span class="post-wordcount"> <i>732</i> words </span>   :: <strong
  >^<a href="/series/nixos-desktop/">NixOS Desktop</a></strong
>
  :: #<a href="/tags/linux/">Linux</a> #<a href="/tags/nix/">Nix</a> #<a href="/tags/nixos/">NixOS</a>  
</div>
  
<div class="toc" id="nav-container">
  <p class="toc-head">Table of Contents</p>
  <div id="nav-content">
    <ul>
      
      <li>
        <a href="/blog/nix/#under-construction">Under Construction!</a>
        
      </li>
      
      <li>
        <a href="/blog/nix/#terminology">Terminology</a>
        
      </li>
      
      <li>
        <a href="/blog/nix/#resources">Resources</a>
        
      </li>
      
      <li>
        <a href="/blog/nix/#footnotes">Footnotes</a>
        
      </li>
      
    </ul>
  </div>
</div>
 </header>

  <div class="post-content"><h1 id="under-construction">Under Construction!<a class="zola-anchor" href="#under-construction" aria-label="Anchor link for: under-construction"
  >§</a
>
</h1>
<p>This Page is still under heavy development and may remain unfinished or subjected to major changes over time</p>
<h1 id="terminology">Terminology<a class="zola-anchor" href="#terminology" aria-label="Anchor link for: terminology"
  >§</a
>
</h1>
<p><strong>Nix</strong> is a purely <strong><em>functional</em></strong> <em>package manager</em>. This means that it treats packages like <em>values</em> built by <em>functions</em> that don’t have side-effects, and never change after they have been built (known as <strong>immutability</strong>). This results in the <em>purity</em> of a package which ensures <em>reproducibility</em> in any environment and at any future point in time. For every package that it builds, it firsts computes a <strong>derivation</strong> (by evaluating expressions written in the Nix <em>language</em>) which consists of information about all the <em>dependencies</em> of a package, build commands, miscellaneous meta-information, and a <em>prefix</em> or <strong><em>store path</em></strong> into which said package shall be installed, which is in the form of <code>/nix/store/<b>HASH</b>-<i>NAME</i>-<i>VERSION</i></code>, where the <em>hash</em> is built from all the input dependencies required to build the package. Then, it <strong><em>realises</em></strong> that derivation by running the specified build commands in an isolated environment (in a <strong><em>sandbox</em></strong>). This allows Nix to guarantee reproducibility, and allows it to support <strong><em>binary cache</em></strong>, by <em>substituting</em> the store path from some other location. This also enables us to have <strong><em>multiple versions</em></strong> of the same package, since each one will have it's own isolated prefix, and makes easy to <strong><em>rollback</em></strong> to a previous version of a package. And since the build environment is completely isolated from the host system, non-privileged users can install software completely <em>securely</em></p>
<p><strong>NixOS</strong> is a GNU/Linux distribution that uses Nix, both a package manager, as well as a <em>configuration</em> manager. The system derivation is realised from <strong><em>configuration files</em></strong> written in the Nix language containing data about all the applications to be installed on the system and subsequently their configuration. In addition to all the benefits provided by Nix, because of the way it is configured, all updates and rollbacks are atomic (and can be automated), and in case anything doesn't function as intended, such as when the system doesn't even boot, every single derivation that was installed <sup class="footnote-reference"><a href="#1">1</a></sup> is listed in the boot loader, and you can boot directly into it. This, along with the fact that NixOS provides for completely reproducible configurations, and allows to easily switch between conflicting package arrangements, makes it an ideal choice for use in multi-PC setups, such as home office configurations, for small organizations or even to rejuvenate individual setups with the amount of benefits that it offers. Thus, I have chosen NixOS above all others in pursuit of a reliable, relatively stable distro that I could conveniently use to manage the computers that I own</p>
<p><a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/nixos/nixpkgs"><strong><code>nixpkgs</code></strong></a>, basically the main <em>package repository</em> to use with Nix, is a giant collection of package descriptions as well as configuration modules written in the Nix language, that serves to build multiple applications for our day-to-day use, as well as the tools required to properly define a NixOS Configuration. It provides a vast number of applications, programs and services, language-specific package sets, cross-compilation tools, and many other such packages, which makes Nix such a powerful tool</p>
<p>The Nix <strong>programming language</strong> is simple, <em>lazy</em> <sup class="footnote-reference"><a href="#2">2</a></sup>, pure, functional, and dynamically typed, which specializes in building packages. The Nix <a rel="noopener nofollow noreferrer" target="_blank" href="https://nixos.org/guides/nix-pills/">Pills</a> Tutorial dives into the language syntax and semantics in detail</p>
<h1 id="resources">Resources<a class="zola-anchor" href="#resources" aria-label="Anchor link for: resources"
  >§</a
>
</h1>
<p>Below is a list of handy, helpful resources and documentation that can be used to learn more about the Nix ecosystem in depth:</p>
<ul>
<li>Official <a rel="noopener nofollow noreferrer" target="_blank" href="https://nixos.org/learn.html">Documentation</a> and the NixOS <a rel="noopener nofollow noreferrer" target="_blank" href="https://nixos.org/manual/nixpkgs/stable">Manual</a></li>
<li>Serokell's <a rel="noopener nofollow noreferrer" target="_blank" href="https://serokell.io/blog/what-is-nix">Blog</a> introducing Nix</li>
<li>Justin's <a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/justinwoo/nix-shorts">Notes</a> on using Nix</li>
<li>Tweag <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.tweag.io/blog/2020-05-25-flakes/">Article</a> introducing Flakes</li>
<li>Serokell's <a rel="noopener nofollow noreferrer" target="_blank" href="https://serokell.io/blog/practical-nix-flakes">Blog</a> on Flakes Usage</li>
</ul>
<h1 id="footnotes">Footnotes<a class="zola-anchor" href="#footnotes" aria-label="Anchor link for: footnotes"
  >§</a
>
</h1>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Provided that they are not <strong><em>garbage collected</em></strong> - Removing or modifying a package from the configuration doesn't exactly delete older versions from the system. All they do is create a new derivation that no longer contains symlinks to the older packages. Since disk space is limited, unused packages should be removed at some point, which can be done using <code>nix-collect-garbage -d</code> or <code>nix store --gc</code>
<sup class="footnote-reference"><a href="#2">2</a></sup>: Evaluation of expressions is delayed until their values are actually needed. For more information, see <a rel="noopener nofollow noreferrer" target="_blank" href="https://en.wikipedia.org/wiki/Lazy_evaluation">this</a></p>
</div>
</div>

     
<p class="post-edit">
  <a href="https:&#x2F;&#x2F;github.com&#x2F;maydayv7&#x2F;dotfiles&#x2F;blob&#x2F;stable&#x2F;site/content&#x2F;blog&#x2F;nix.md"><svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="feather feather-edit-2">
    <path
      d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg
  >Edit this Page
</a></p>
  
  <button type="button" class="comments-collapsible">Show Comments</button>
     
<div class="comments" id="giscus_thread">
  <script
    src="https://giscus.app/client.js"
    data-repo="maydayv7&#x2F;dotfiles"
    data-repo-id="R_kgDOGuzdUw"
    data-category="Blog"
    data-category-id="DIC_kwDOGuzdU84CODRX"
    data-mapping="title"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="transparent_dark"
    data-lang="en"
    crossorigin="anonymous"
    async></script>
</div>
  <script src="/js/comments.js"></script>        
</article>
<button class="scroll-back" id="scroll-back" title="Scroll Up">↑</button></div>  <footer class="footer">
        <div class="footer__inner">
<div class="copyright">
  <span>
    © 2023 V 7 ::
    Powered by <a href="https:&#x2F;&#x2F;getzola.org&#x2F;" rel="noopener noreferrer nofollow" target="_blank">
  Zola</a>
  </span>
  <span>
    Like this Site? See Source Code <a href="https:&#x2F;&#x2F;github.com&#x2F;maydayv7&#x2F;dotfiles&#x2F;blob&#x2F;stable&#x2F;site" rel="noopener noreferrer nofollow" target="_blank">
  Here</a>
  </span>
</div>
 <script src="/js/mobile.js"></script> </div>
        <div>
          
<div class="socials-bar"><a href="blog&#x2F;rss.xml" style="text-decoration: none"><img src="&#x2F;processed_images&#x2F;rss.50a983dd8fb80d6f.png" style="display: inline" alt="RSS Badge" />
  </a><a href="https:&#x2F;&#x2F;github.com&#x2F;maydayv7" style="text-decoration: none"><img
      src="&#x2F;processed_images&#x2F;github.7bd8e559e0295e12.png"
      style="display: inline"
      alt="Github Profile Badge" />
  </a><a href="mailto:maydayv7@gmail.com" style="text-decoration: none"><img
      src="&#x2F;processed_images&#x2F;mail.8ef27abdbcc6b421.png"
      style="display: inline"
      alt="Email Badge" />
  </a><a href="https:&#x2F;&#x2F;reddit.com&#x2F;u&#x2F;maydayv7" style="text-decoration: none"><img
      src="&#x2F;processed_images&#x2F;reddit.a79a427ef16b70e5.png"
      style="display: inline"
      alt="Reddit Badge" />
  </a></div>

<div class="columns">
  <div class="column">
    <div class="content is-flex">
      <div class="theme-select-container">
        Theme:
        <select id="theme-select">
              
          <option value="black">black</option>
               
          <option value="blue">blue</option>
               
          <option selected="selected" value="red">red</option>
           
        </select>
      </div>
    </div>
  </div>
</div>
</div>
      </footer></div>
    
<script src="/js/theme.js"></script>
<script> switch_theme.init("/"); </script>
<script src="/js/clipboard.js"></script>
<script src="/js/footnote.js"></script>
<script src="/js/scroll.js"></script>

  <script src="/elasticlunr.min.js"></script>
  <script src="/search_index.en.js"></script>
  <script src="/js/search.js"></script>


  </body>
</html>
